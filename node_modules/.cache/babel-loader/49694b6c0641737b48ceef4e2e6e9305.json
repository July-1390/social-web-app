{"ast":null,"code":"export const userServices = {\n  register,\n  logout\n};\n\nfunction register(user) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  };\n  return fetch(`/users/registration`, requestOptions).then(handleResponse);\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem(\"user\");\n}\n\nfunction handleResponse(response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text);\n\n    if (!response.ok) {\n      if (response.status === 401) {\n        // auto logout if 401 response returned from api\n        logout();\n      }\n\n      const error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n\nexport default userServices;","map":{"version":3,"sources":["/Users/july/Desktop/study/try-redux/src/services/userServices.js"],"names":["userServices","register","logout","user","requestOptions","method","headers","body","JSON","stringify","fetch","then","handleResponse","localStorage","removeItem","response","text","data","parse","ok","status","error","message","statusText","Promise","reject"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;AAC1BC,EAAAA,QAD0B;AAE1BC,EAAAA;AAF0B,CAArB;;AAKP,SAASD,QAAT,CAAkBE,IAAlB,EAAwB;AACtB,QAAMC,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFY;AAGrBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAHe,GAAvB;AAMA,SAAOO,KAAK,CAAE,qBAAF,EAAwBN,cAAxB,CAAL,CAA6CO,IAA7C,CAAkDC,cAAlD,CAAP;AACD;;AAED,SAASV,MAAT,GAAkB;AAChB;AACAW,EAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACD;;AAED,SAASF,cAAT,CAAwBG,QAAxB,EAAkC;AAChC,SAAOA,QAAQ,CAACC,IAAT,GAAgBL,IAAhB,CAAsBK,IAAD,IAAU;AACpC,UAAMC,IAAI,GAAGD,IAAI,IAAIR,IAAI,CAACU,KAAL,CAAWF,IAAX,CAArB;;AACA,QAAI,CAACD,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAIJ,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;AAC3B;AACAlB,QAAAA,MAAM;AACP;;AAED,YAAMmB,KAAK,GAAIJ,IAAI,IAAIA,IAAI,CAACK,OAAd,IAA0BP,QAAQ,CAACQ,UAAjD;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD;;AAED,WAAOJ,IAAP;AACD,GAbM,CAAP;AAcD;;AAED,eAAejB,YAAf","sourcesContent":["export const userServices = {\n  register,\n  logout,\n};\n\nfunction register(user) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(user),\n  };\n\n  return fetch(`/users/registration`, requestOptions).then(handleResponse);\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem(\"user\");\n}\n\nfunction handleResponse(response) {\n  return response.text().then((text) => {\n    const data = text && JSON.parse(text);\n    if (!response.ok) {\n      if (response.status === 401) {\n        // auto logout if 401 response returned from api\n        logout();\n      }\n\n      const error = (data && data.message) || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n\nexport default userServices;\n"]},"metadata":{},"sourceType":"module"}